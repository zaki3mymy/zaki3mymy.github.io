function n(e,t){const{searchTerm:s,categories:a,statuses:i}=t;if(s){const r=e.dataset.ruleName||"",c=e.dataset.ruleSummary||"",o=e.dataset.ruleCode||"",l=s.toLowerCase();if(!r.includes(l)&&!c.includes(l)&&!o.toLowerCase().includes(l))return!1}if(a.length>0){const r=e.dataset.ruleCategory||"";if(!a.includes(r))return!1}if(i.length>0){const r=e.dataset.ruleStatus||"";if(!i.includes(r))return!1}return!0}function u(e){const t=document.querySelectorAll(".rule-item");let s=0;t.forEach(i=>{const r=n(i,e);i.style.display=r?"":"none",r&&s++});const a={visibleCount:s,totalCount:t.length};window.dispatchEvent(new CustomEvent("filter-complete",{detail:a}))}function h(e,t){let s=null;return a=>{s&&clearTimeout(s),s=setTimeout(()=>e(a),t)}}const d=h(u,300);class f{searchTerm="";categories=[];statuses=[];setSearchTerm(t){this.searchTerm=t,this.applyFilter()}setCategories(t){this.categories=t,this.applyFilter()}setStatuses(t){this.statuses=t,this.applyFilter()}getCriteria(){return{searchTerm:this.searchTerm,categories:this.categories,statuses:this.statuses}}clear(){this.searchTerm="",this.categories=[],this.statuses=[],this.applyFilter()}clearCategoriesAndStatuses(){this.categories=[],this.statuses=[],this.applyFilter()}applyFilter(){d(this.getCriteria())}}const m=new f;export{m as f};
