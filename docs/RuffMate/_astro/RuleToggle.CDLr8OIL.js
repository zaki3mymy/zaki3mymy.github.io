import{j as s}from"./jsx-runtime.ChRk8yaC.js";import{r as o}from"./index.BoiMzueB.js";import{r}from"./ruleSettings.DzgjoZSs.js";function b({ruleCode:t}){const i=typeof window<"u"?r.getSync(t):{enabled:!0,comment:""},[n,a]=o.useState(i.enabled),[c,l]=o.useState(i.comment||"");o.useEffect(()=>{typeof window<"u"&&r.load(t,e=>{a(e.enabled),l(e.comment||"")})},[t]),o.useEffect(()=>{const e=()=>{a(!0),l("")};return window.addEventListener("settings-reset",e),()=>window.removeEventListener("settings-reset",e)},[]);const d=()=>{const e=!n;a(e),r.set(t,{enabled:e,comment:c})},m=e=>{l(e),r.set(t,{enabled:n,comment:e})};return s.jsxs("div",{className:"flex-shrink-0 flex flex-col items-end gap-2",children:[s.jsx("button",{onClick:d,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-blue-600":"bg-gray-200"}`,"aria-label":`${t}を${n?"無効化":"有効化"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})}),!n&&s.jsx("input",{type:"text",value:c,onChange:e=>m(e.target.value),placeholder:"除外理由",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}export{b as default};
